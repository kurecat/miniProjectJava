<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>main</title>

    <link rel="stylesheet" th:href="@{/css/swiper-bundle.min.css}" />

    <link rel="stylesheet" th:href="@{/css/style.css}" />
  </head>
  <body>
    <div class="container">
      <div th:replace="~{fragments/header :: header}"></div>
      <main class="main-content">
        <div class="swiper mySwiper">
          <div class="swiper-wrapper">
            <div class="swiper-slide video-slide">
              <div id="player1" class="youtube-player-background"></div>
              <div class="slide-content">
                <h1>ìì·¨ì˜ êµê³¼ì„œ ê°™ì€ ì§‘</h1>
                <p>ì‹ ë¦¼ 4í‰ ì›ë£¸ ì›”ì„¸</p>
                <button class="slide-btn">ìì„¸íˆ ë³´ê¸° &gt;</button>
              </div>
            </div>

            <div class="swiper-slide video-slide">
              <div id="player2" class="youtube-player-background"></div>
              <div class="slide-content">
                <h1>ìì·¨ìš”ë¦¬ ì „ë¬¸ê°€ì˜ ì§‘</h1>
                <p>"ì§‘ì—ì„œ 3ë¼ ë‹¤ í•´ë¨¹ì–´ìš”"</p>
                <button class="slide-btn">ìì„¸íˆ ë³´ê¸° &gt;</button>
              </div>
            </div>

            <div class="swiper-slide video-slide">
              <div id="player3" class="youtube-player-background"></div>
              <div class="slide-content">
                <h1>ê³ ë¬¼ê°€ ì‹œëŒ€ì—ì„œ ì‚´ì•„ë‚¨ê¸°</h1>
                <p>-ìì·¨ì¿ íŒ¡ í•„ìˆ˜í…œí¸-</p>
                <a
                  href="https://www.youtube.com/watch?v=zzBu5eSM7bU&t"
                  target="_blank"
                  ><button class="slide-btn">ìì„¸íˆ ë³´ê¸° &gt;</button></a
                >
              </div>
            </div>

            <div class="swiper-slide">
              <img
                src="https://via.placeholder.com/1140x400/2ecc71/ffffff?text=Slide+3"
                alt="Slide 3"
              />
            </div>
          </div>

          <div class="swiper-button-next"></div>
          <div class="swiper-button-prev"></div>
          <div class="swiper-pagination"></div>
        </div>
        <div class="max-w-screen-xl mx-auto">
          <div class="flex flex-col md:flex-row gap-8">
            <div class="w-full md:w-[800px] flex-shrink-0">
              <div class="flex gap-4 border-b-2 border-red-500 mb-4">
                <button
                  class="pb-2 px-2 border-b-2 border-red-500 font-bold text-red-500"
                >
                  ì „ì²´
                </button>
                <button class="pb-2 px-2 text-gray-600 hover:text-black">
                  ê¿€íŒ
                </button>
                <button class="pb-2 px-2 text-gray-600 hover:text-black">
                  ì§ˆë¬¸
                </button>
                <button class="pb-2 px-2 text-gray-600 hover:text-black">
                  í›„ê¸°
                </button>
                <button class="pb-2 px-2 text-gray-600 hover:text-black">
                  ì¡ë‹´
                </button>
              </div>

              <div id="postListView">
                <table class="w-full text-center text-sm text-gray-700">
                  <thead class="table-header">
                    <tr class="row-height">
                      <th class="col-number">ë²ˆí˜¸</th>
                      <th class="col-title text-left pl-4">ì œëª©</th>
                      <th class="col-author">ê¸€ì“´ì´</th>
                      <th class="col-date">ë“±ë¡ì¼</th>
                      <th class="col-views">ì¡°íšŒ</th>
                      <th class="col-likes">ì¶”ì²œ</th>
                    </tr>
                  </thead>
                  <tbody id="postTableBody" class="table-body bg-white"></tbody>
                </table>

                <div
                  id="pagination"
                  class="flex justify-center items-center gap-2 md:gap-3 text-sm md:text-base mt-6 text-gray-600"
                >
                  <a href="#" class="page-nav px-1 hover:text-black"
                    >&lt;&lt;</a
                  >
                  <a href="#" class="page-link active" data-page="1">1</a>
                  <a href="#" class="page-link" data-page="2">2</a>
                  <a href="#" class="page-link" data-page="3">3</a>
                  <a href="#" class="page-link" data-page="4">4</a>
                  <a href="#" class="page-link" data-page="5">5</a>
                  <a href="#" class="page-link" data-page="6">6</a>
                  <a href="#" class="page-link" data-page="7">7</a>
                  <a href="#" class="page-link" data-page="8">8</a>
                  <a href="#" class="page-link" data-page="9">9</a>
                  <a href="#" class="page-link" data-page="10">10</a>
                  <a href="#" class="page-nav px-1 hover:text-black"
                    >&gt;&gt;</a
                  >
                </div>
              </div>

              <div
                id="postDetailView"
                class="hidden bg-white p-6 md:p-8 rounded-lg shadow"
              >
                <h2 id="detailTitle" class="text-2xl font-bold mb-2"></h2>
                <div classs="text-sm text-gray-500 mb-4">
                  <span id="detailAuthor"></span> |
                  <span id="detailDate"></span> | ì¡°íšŒ
                  <span id="detailViews"></span> | ì¶”ì²œ
                  <span id="detailLikes"></span>
                </div>
                <hr class="my-4" />
                <div
                  id="detailContent"
                  class="min-h-[200px] text-gray-800 leading-relaxed"
                ></div>
                <hr class="my-4" />
                <button
                  id="backToListButton"
                  class="bg-gray-700 text-white px-4 py-2 rounded-md hover:bg-gray-800 transition-colors"
                >
                  ëª©ë¡ìœ¼ë¡œ
                </button>
              </div>

              <div class="flex flex-col gap-8 mt-12">
                <div class="bottom-section-box">
                  <div class="hot-post-header">
                    <span class="font-bold">ì œì¼ ğŸ”¥ HOTí•œ ê²Œì‹œê¸€!</span>
                    <div class="header-columns">
                      <span class="bottom-title-col">ì œëª©</span>
                      <span class="bottom-count-col">ëŒ“ê¸€</span>
                    </div>
                  </div>
                  <ul class="hot-post-body">
                    <li>
                      <span class="bottom-title-col"
                        >ì‹¤ìˆ˜ë ¹ 200ì¸ë° ì›”ì„¸ 50 ì–´ë–° â–£</span
                      >
                      <span class="bottom-count-col">471</span>
                    </li>
                    <li>
                      <span class="bottom-title-col"
                        >ì˜¤ëŠ˜ ì ì‹¬ ë©”ë‰´ ì¶”ì²œë°›ëŠ”ë‹¤</span
                      >
                      <span class="bottom-count-col">320</span>
                    </li>
                    <li>
                      <span class="bottom-title-col"
                        >ê°œë°œì 3ë…„ì°¨ ì´ì§ ê³ ë¯¼...</span
                      >
                      <span class="bottom-count-col">298</span>
                    </li>
                    <li>
                      <span class="bottom-title-col"
                        >ì£¼ë§ì— ë‹¤ë“¤ ë­í•˜ì‹œë‚˜ìš”?</span
                      >
                      <span class="bottom-count-col">155</span>
                    </li>
                    <li>
                      <span class="bottom-title-col"
                        >ìš”ì¦˜ ì¬ë°ŒëŠ” ê²Œì„ ì—†ë‚˜</span
                      >
                      <span class="bottom-count-col">102</span>
                    </li>
                  </ul>
                </div>

                <div class="bottom-section-box">
                  <div class="hot-post-header">
                    <span class="font-bold">ì¶”ì²œ UP!</span>
                    <div class="header-columns">
                      <span class="bottom-title-col">ì œëª©</span>
                      <span class="bottom-count-col">ì¶”ì²œ</span>
                    </div>
                  </div>
                  <ul class="hot-post-body">
                    <li>
                      <span class="bottom-title-col"
                        >ë‹­ê°€ìŠ´ì‚´ ë­ ë¨¹ì–´ì•¼í•¨?</span
                      >
                      <span class="bottom-count-col">90</span>
                    </li>
                    <li>
                      <span class="bottom-title-col">ì´ ì½”íŠ¸ ì–´ë•Œë³´ì—¬?</span>
                      <span class="bottom-count-col">72</span>
                    </li>
                    <li>
                      <span class="bottom-title-col">í‡´ì‚¬í•©ë‹ˆë‹¤.</span>
                      <span class="bottom-count-col">65</span>
                    </li>
                    <li>
                      <span class="bottom-title-col">ë¶€ì‚° 2ë°•3ì¼ ì—¬í–‰ì½”ìŠ¤</span>
                      <span class="bottom-count-col">44</span>
                    </li>
                    <li>
                      <span class="bottom-title-col"
                        >100ë§Œì›ëŒ€ ë…¸íŠ¸ë¶ ì¶”ì²œ</span
                      >
                      <span class="bottom-count-col">39</span>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
      </main>
      <div th:replace="~{fragments/footer :: footer}"></div>
    </div>

    <script th:src="@{/js/swiper-bundle.min.js}"></script>
    <script src="https://www.youtube.com/iframe_api"></script>
    <script>
      // ëª¨ë“  YouTube í”Œë ˆì´ì–´ë¥¼ ê´€ë¦¬í•  ê°ì²´
      var players = {};
      // Swiper ì¸ìŠ¤í„´ìŠ¤
      var mySwiper;

      // 1. YouTube APIê°€ ì¤€ë¹„ë˜ë©´ ìë™ìœ¼ë¡œ í˜¸ì¶œë¨
      function onYouTubeIframeAPIReady() {
        // --- 1ë²ˆ ì˜ìƒ (player1) ìƒì„± ---
        players["player1"] = new YT.Player("player1", {
          /* ğŸ‘‡ğŸ‘‡ğŸ‘‡ 1ë²ˆ ì˜ìƒ ID (ì˜ˆ: 'S-N4a1A-TqE') ğŸ‘‡ğŸ‘‡ğŸ‘‡
           */
          videoId: "oMeYMLRwKrY",
          playerVars: {
            autoplay: 1,
            mute: 1,
            controls: 0,
            loop: 1,
            playlist: "oMeYMLRwKrY", // 1ë²ˆ ì˜ìƒ IDì™€ ë™ì¼í•˜ê²Œ
            modestbranding: 1,
            showinfo: 0,
            rel: 0,
          },
          events: {
            // 1ë²ˆ í”Œë ˆì´ì–´ê°€ ì¤€ë¹„ë˜ë©´ 'onPlayerReady' í•¨ìˆ˜ í˜¸ì¶œ
            onReady: onPlayerReady,
          },
        });

        // --- 2ë²ˆ ì˜ìƒ (player2) ìƒì„± ---
        players["player2"] = new YT.Player("player2", {
          videoId: "XJ8b9sWVFb0",
          playerVars: {
            autoplay: 1,
            mute: 1,
            controls: 0,
            loop: 1,
            playlist: "XJ8b9sWVFb0", // 2ë²ˆ ì˜ìƒ IDì™€ ë™ì¼í•˜ê²Œ
            modestbranding: 1,
            showinfo: 0,
            rel: 0,
          },
          events: {
            // 2ë²ˆ í”Œë ˆì´ì–´ê°€ ì¤€ë¹„ë˜ë©´ 'onPlayerReady' í•¨ìˆ˜ í˜¸ì¶œ
            onReady: onPlayerReady,
          },
        });

        // (ì˜ìƒì´ 3ê°œë¼ë©´ ì—¬ê¸°ì— players['player3'] = new YT.Player(...) ì¶”ê°€)
        players["player3"] = new YT.Player("player3", {
          videoId: "zzBu5eSM7bU",
          playerVars: {
            autoplay: 1,
            mute: 1,
            controls: 0,
            loop: 1,
            playlist: "zzBu5eSM7bU", // 2ë²ˆ ì˜ìƒ IDì™€ ë™ì¼í•˜ê²Œ
            modestbranding: 1,
            showinfo: 0,
            rel: 0,
          },
          events: {
            // 2ë²ˆ í”Œë ˆì´ì–´ê°€ ì¤€ë¹„ë˜ë©´ 'onPlayerReady' í•¨ìˆ˜ í˜¸ì¶œ
            onReady: onPlayerReady,
          },
        });
      }

      // 2. í”Œë ˆì´ì–´ ì¤€ë¹„ ìƒíƒœ í™•ì¸ ë° Swiper ì´ˆê¸°í™”

      // (ìˆ˜ì •) ì¤€ë¹„ëœ í”Œë ˆì´ì–´ ìˆ˜ë¥¼ ì²´í¬í•˜ê¸° ìœ„í•œ ë³€ìˆ˜
      var playersReadyCount = 0;
      var totalPlayers = 3; // (ì¤‘ìš”) ìƒì„±í•  ì´ í”Œë ˆì´ì–´ ìˆ˜ (ì§€ê¸ˆì€ 2ê°œ)

      function onPlayerReady(event) {
        // (ìˆ˜ì •) ëª¨ë“  í”Œë ˆì´ì–´ê°€ ì¤€ë¹„ë  ë•Œê¹Œì§€ ì¹´ìš´íŠ¸ ì¦ê°€
        playersReadyCount++;

        // (ì¤‘ìš”) ëª¨ë“  í”Œë ˆì´ì–´ê°€ ì¤€ë¹„ë˜ì—ˆì„ ë•Œë§Œ Swiperë¥¼ 1ë²ˆ ì´ˆê¸°í™”
        if (playersReadyCount === totalPlayers) {
          initializeSwiper();
        }
      }

      // 3. Swiper ì´ˆê¸°í™” ë° ìŠ¬ë¼ì´ë“œ ì œì–´ í•¨ìˆ˜
      function initializeSwiper() {
        if (mySwiper) return; // ì¤‘ë³µ ì‹¤í–‰ ë°©ì§€

        mySwiper = new Swiper(".mySwiper", {
          navigation: {
            nextEl: ".swiper-button-next",
            prevEl: ".swiper-button-prev",
          },
          pagination: {
            el: ".swiper-pagination",
            clickable: true,
          },
          loop: true,

          on: {
            // (ì¤‘ìš”) ìŠ¬ë¼ì´ë“œê°€ ë°”ë€” ë•Œë§ˆë‹¤ ì‹¤í–‰
            slideChange: function () {
              var currentSlide = this.slides[this.activeIndex];

              // í˜„ì¬ í™œì„±í™”ëœ ìŠ¬ë¼ì´ë“œì— ìˆëŠ” í”Œë ˆì´ì–´ ID ì°¾ê¸°
              var activePlayerId = null;
              if (currentSlide.querySelector(".youtube-player-background")) {
                activePlayerId = currentSlide.querySelector(
                  ".youtube-player-background"
                ).id; // ì˜ˆ: "player1"
              }

              // ëª¨ë“  í”Œë ˆì´ì–´ë¥¼ ìˆœíšŒ
              for (var playerId in players) {
                if (players.hasOwnProperty(playerId)) {
                  var player = players[playerId];

                  // í˜„ì¬ í™œì„±í™”ëœ ìŠ¬ë¼ì´ë“œì˜ í”Œë ˆì´ì–´ë¼ë©´ -> ì¬ìƒ
                  if (playerId === activePlayerId) {
                    player.playVideo();
                  }
                  // í™œì„±í™”ë˜ì§€ ì•Šì€ (ë‹¤ë¥¸ ìŠ¬ë¼ì´ë“œì˜) í”Œë ˆì´ì–´ë¼ë©´ -> ì •ì§€
                  else {
                    player.pauseVideo();
                  }
                }
              }
            },

            // (ì¶”ê°€) Swiperê°€ ì²˜ìŒ ì´ˆê¸°í™”ë  ë•Œ ì‹¤í–‰
            init: function () {
              // 1ë²ˆ ìŠ¬ë¼ì´ë“œ(ì²« í™”ë©´)ê°€ ì•„ë‹Œ ë‹¤ë¥¸ ì˜ìƒ í”Œë ˆì´ì–´ë“¤ì€ ëª¨ë‘ ì •ì§€ì‹œí‚´
              // (loop ëª¨ë“œì—ì„œëŠ” ì²« ìŠ¬ë¼ì´ë“œê°€ 0ë²ˆì´ ì•„ë‹ ìˆ˜ ìˆìœ¼ë¯€ë¡œ
              //  slideChange ì´ë²¤íŠ¸ë¥¼ ìˆ˜ë™ìœ¼ë¡œ í•œë²ˆ í˜¸ì¶œí•˜ëŠ” ê²ƒì´ ë” ì•ˆì „í•¨)
              this.emit("slideChange"); // slideChange ì´ë²¤íŠ¸ë¥¼ ê°•ì œë¡œ ì‹¤í–‰
            },
          },
        });
      }

      const mockDB = [
        // Page 1 data (18 items)
        {
          id: 1,
          title: "Test0",
          author: "Kurecat",
          date: "11-10",
          views: 27,
          likes: 9,
          content: "Test0 ê²Œì‹œë¬¼ì˜ ìƒì„¸ ë‚´ìš©ì…ë‹ˆë‹¤.",
        },
        {
          id: 2,
          title: "Test1",
          author: "Kurecat",
          date: "11-10",
          views: 27,
          likes: 9,
          content: "Test1 ê²Œì‹œë¬¼ì˜ ìƒì„¸ ë‚´ìš©ì…ë‹ˆë‹¤.",
        },
        {
          id: 3,
          title: "Test2",
          author: "Kurecat",
          date: "11-10",
          views: 27,
          likes: 9,
          content: "Test2 ê²Œì‹œë¬¼ì˜ ìƒì„¸ ë‚´ìš©ì…ë‹ˆë‹¤.",
        },
        {
          id: 4,
          title: "Test3",
          author: "Kurecat",
          date: "11-10",
          views: 27,
          likes: 9,
          content: "Test3 ê²Œì‹œë¬¼ì˜ ìƒì„¸ ë‚´ìš©ì…ë‹ˆë‹¤.",
        },
        {
          id: 5,
          title: "Test4",
          author: "Kurecat",
          date: "11-10",
          views: 27,
          likes: 9,
          content: "Test4 ê²Œì‹œë¬¼ì˜ ìƒì„¸ ë‚´ìš©ì…ë‹ˆë‹¤.",
        },
        {
          id: 6,
          title: "Test5",
          author: "Admin",
          date: "11-11",
          views: 10,
          likes: 2,
          content: "Test5 ê²Œì‹œë¬¼ì˜ ìƒì„¸ ë‚´ìš©ì…ë‹ˆë‹¤.",
        },
        {
          id: 7,
          title: "Test6",
          author: "User1",
          date: "11-11",
          views: 15,
          likes: 3,
          content: "Test6 ê²Œì‹œë¬¼ì˜ ìƒì„¸ ë‚´ìš©ì…ë‹ˆë‹¤.",
        },
        {
          id: 8,
          title: "Test7",
          author: "Kurecat",
          date: "11-11",
          views: 30,
          likes: 5,
          content: "Test7 ê²Œì‹œë¬¼ì˜ ìƒì„¸ ë‚´ìš©ì…ë‹ˆë‹¤.",
        },
        {
          id: 9,
          title: "Test8",
          author: "Tester",
          date: "11-11",
          views: 22,
          likes: 1,
          content: "Test8 ê²Œì‹œë¬¼ì˜ ìƒì„¸ ë‚´ìš©ì…ë‹ˆë‹¤.",
        },
        {
          id: 10,
          title: "Test9",
          author: "Guest",
          date: "11-11",
          views: 19,
          likes: 4,
          content: "Test9 ê²Œì‹œë¬¼ì˜ ìƒì„¸ ë‚´ìš©ì…ë‹ˆë‹¤.",
        },
        {
          id: 11,
          title: "Test10",
          author: "Kurecat",
          date: "11-11",
          views: 45,
          likes: 8,
          content: "Test10 ê²Œì‹œë¬¼ì˜ ìƒì„¸ ë‚´ìš©ì…ë‹ˆë‹¤.",
        },
        {
          id: 12,
          title: "Test11",
          author: "Admin",
          date: "11-11",
          views: 12,
          likes: 2,
          content: "Test11 ê²Œì‹œë¬¼ì˜ ìƒì„¸ ë‚´ìš©ì…ë‹ˆë‹¤.",
        },
        {
          id: 13,
          title: "Test12",
          author: "User2",
          date: "11-12",
          views: 5,
          likes: 0,
          content: "Test12 ê²Œì‹œë¬¼ì˜ ìƒì„¸ ë‚´ìš©ì…ë‹ˆë‹¤.",
        },
        {
          id: 14,
          title: "Test13",
          author: "Kurecat",
          date: "11-12",
          views: 61,
          likes: 12,
          content: "Test13 ê²Œì‹œë¬¼ì˜ ìƒì„¸ ë‚´ìš©ì…ë‹ˆë‹¤.",
        },
        {
          id: 15,
          title: "Test14",
          author: "User1",
          date: "11-12",
          views: 33,
          likes: 7,
          content: "Test14 ê²Œì‹œë¬¼ì˜ ìƒì„¸ ë‚´ìš©ì…ë‹ˆë‹¤.",
        },
        {
          id: 16,
          title: "Test15",
          author: "Tester",
          date: "11-12",
          views: 28,
          likes: 3,
          content: "Test15 ê²Œì‹œë¬¼ì˜ ìƒì„¸ ë‚´ìš©ì…ë‹ˆë‹¤.",
        },
        {
          id: 17,
          title: "Test16",
          author: "Guest",
          date: "11-12",
          views: 14,
          likes: 1,
          content: "Test16 ê²Œì‹œë¬¼ì˜ ìƒì„¸ ë‚´ìš©ì…ë‹ˆë‹¤.",
        },
        {
          id: 18,
          title: "Test17",
          author: "Kurecat",
          date: "11-12",
          views: 50,
          likes: 10,
          content: "Test17 ê²Œì‹œë¬¼ì˜ ìƒì„¸ ë‚´ìš©ì…ë‹ˆë‹¤.",
        },

        // Page 2 data (example)
        {
          id: 19,
          title: "Test18 (Page 2)",
          author: "Admin",
          date: "11-13",
          views: 10,
          likes: 2,
          content: "í˜ì´ì§€ 2ì˜ ì²« ë²ˆì§¸ ê²Œì‹œë¬¼ì…ë‹ˆë‹¤.",
        },
        {
          id: 20,
          title: "Test19 (Page 2)",
          author: "User1",
          date: "11-13",
          views: 15,
          likes: 3,
          content: "í˜ì´ì§€ 2ì˜ ë‘ ë²ˆì§¸ ê²Œì‹œë¬¼ì…ë‹ˆë‹¤.",
        },
      ];

      // --- DOM ìš”ì†Œ ---
      const postListView = document.getElementById("postListView");
      const postDetailView = document.getElementById("postDetailView");
      const postTableBody = document.getElementById("postTableBody");
      const pagination = document.getElementById("pagination");
      const backToListButton = document.getElementById("backToListButton");

      // --- í•¨ìˆ˜ ---

      /**
       * ê²Œì‹œë¬¼ ëª©ë¡ì„ í™”ë©´ì— ê·¸ë¦¬ëŠ” í•¨ìˆ˜
       * @param {number} page - í˜„ì¬ í˜ì´ì§€ ë²ˆí˜¸
       */
      function renderPostList(page = 1) {
        // í…Œì´ë¸” ë‚´ìš© ì´ˆê¸°í™”
        postTableBody.innerHTML = "";

        const postsPerPage = 18; // í˜ì´ì§€ë‹¹ 18ê°œ

        // ì‹¤ì œë¼ë©´ í˜ì´ì§€ì— ë§ëŠ” ë°ì´í„°ë¥¼ DBì—ì„œ ê°€ì ¸ì˜µë‹ˆë‹¤.
        // ì—¬ê¸°ì„œëŠ” mockDBì—ì„œ ë°ì´í„°ë¥¼ 'ì‹œë®¬ë ˆì´ì…˜'í•©ë‹ˆë‹¤.
        let pageData = [];
        if (page === 1) {
          pageData = mockDB.slice(0, postsPerPage); // 18ê°œ
        } else {
          // ë‹¤ë¥¸ í˜ì´ì§€ë¥¼ ìœ„í•œ ê°€ì§œ ë°ì´í„° ìƒì„±
          for (let i = 1; i <= postsPerPage; i++) {
            // 18ê°œ
            const postId = (page - 1) * postsPerPage + i; // 18ê°œ ê¸°ì¤€ìœ¼ë¡œ ID ê³„ì‚°
            pageData.push({
              id: postId,
              title: `Test${postId - 1} (Page ${page})`,
              author: `Author ${page}`,
              date: "11-12",
              views: Math.floor(Math.random() * 50),
              likes: Math.floor(Math.random() * 10),
              content: `í˜ì´ì§€ ${page}ì˜ ${i}ë²ˆì§¸ ê²Œì‹œë¬¼ ìƒì„¸ ë‚´ìš©ì…ë‹ˆë‹¤.`,
            });
          }
        }

        // í…Œì´ë¸” í–‰(row) ìƒì„±
        pageData.forEach((post) => {
          const tr = document.createElement("tr");
          tr.className = "row-height";

          tr.innerHTML = `
                    <td class="col-number clickable post-link" data-id="${post.id}">${post.id}</td>
                    <td class="col-title text-left pl-4 clickable post-link" data-id="${post.id}">${post.title}</td>
                    <td class="col-author">${post.author}</td>
                    <td class="col-date">${post.date}</td>
                    <td class="col-views">${post.views}</td>
                    <td class="col-likes">${post.likes}</td>
                `;
          postTableBody.appendChild(tr);
        });

        // ìƒì„±ëœ í–‰ì— í´ë¦­ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
        document.querySelectorAll(".post-link").forEach((link) => {
          link.addEventListener("click", (e) => {
            const postId = e.target.getAttribute("data-id");
            showPostDetail(postId);
          });
        });
      }

      /**
       * ê²Œì‹œë¬¼ ìƒì„¸ ì •ë³´ë¥¼ í‘œì‹œí•˜ëŠ” í•¨ìˆ˜
       * @param {string} postId - í‘œì‹œí•  ê²Œì‹œë¬¼ì˜ ID
       */
      function showPostDetail(postId) {
        // IDë¡œ mockDBì—ì„œ ê²Œì‹œë¬¼ ì°¾ê¸° (ì‹¤ì œë¡œëŠ” DB ì¿¼ë¦¬)
        // find()ëŠ” ë¬¸ìì—´ê³¼ ìˆ«ìë¥¼ ë¹„êµí•˜ê¸° ìœ„í•´ == ë¥¼ ì‚¬ìš©í•˜ê±°ë‚˜, postIdë¥¼ ìˆ«ìë¡œ ë³€í™˜í•©ë‹ˆë‹¤.
        const post = mockDB.find((p) => p.id == postId) || { // í˜ì´ì§€ë„¤ì´ì…˜ìœ¼ë¡œ ìƒì„±ëœ ì„ì‹œ ë°ì´í„° ì°¾ê¸°
          id: postId,
          title: `Test${postId - 1} (Page ??)`,
          author: `Author ?`,
          date: "11-12",
          views: Math.floor(Math.random() * 50),
          likes: Math.floor(Math.random() * 10),
          content: `ID ${postId}ë²ˆ ê²Œì‹œë¬¼ì˜ ìƒì„¸ ë‚´ìš©ì…ë‹ˆë‹¤. (ë™ì ìœ¼ë¡œ ìƒì„±ë¨)`,
        };

        // ìƒì„¸ ë·°ì— ë°ì´í„° ì±„ìš°ê¸°
        document.getElementById("detailTitle").textContent = post.title;
        document.getElementById("detailAuthor").textContent = post.author;
        document.getElementById("detailDate").textContent = post.date;
        document.getElementById("detailViews").textContent = post.views;
        document.getElementById("detailLikes").textContent = post.likes;
        document.getElementById("detailContent").textContent = post.content;

        // ë·° ì „í™˜
        postListView.classList.add("hidden");
        postDetailView.classList.remove("hidden");
      }

      /**
       * ëª©ë¡ ë·°ë¡œ ëŒì•„ê°€ëŠ” í•¨ìˆ˜
       */
      function showListView() {
        postDetailView.classList.add("hidden");
        postListView.classList.remove("hidden");
      }

      // --- ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì„¤ì • ---

      // "ëª©ë¡ìœ¼ë¡œ" ë²„íŠ¼ í´ë¦­
      backToListButton.addEventListener("click", showListView);

      // í˜ì´ì§€ë„¤ì´ì…˜ ë§í¬ í´ë¦­
      pagination.addEventListener("click", (e) => {
        e.preventDefault(); // a íƒœê·¸ ê¸°ë³¸ ë™ì‘ ë°©ì§€

        const target = e.target;
        if (target.classList.contains("page-link")) {
          // ëª¨ë“  ë§í¬ì—ì„œ 'active' í´ë˜ìŠ¤ ì œê±°
          pagination.querySelectorAll(".page-link").forEach((link) => {
            link.classList.remove("active");
          });

          // í´ë¦­ëœ ë§í¬ì— 'active' í´ë˜ìŠ¤ ì¶”ê°€
          target.classList.add("active");

          const page = target.getAttribute("data-page");
          renderPostList(parseInt(page));
        }
      });

      // --- ì´ˆê¸°í™” ---
      // í˜ì´ì§€ ë¡œë“œ ì‹œ 1í˜ì´ì§€ ëª©ë¡ì„ ê·¸ë¦½ë‹ˆë‹¤.
      document.addEventListener("DOMContentLoaded", () => {
        renderPostList(1);
      });
    </script>
  </body>
</html>
